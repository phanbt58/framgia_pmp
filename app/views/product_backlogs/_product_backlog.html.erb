<tr id="backlog-row-<%= product_backlog.id %>" class="<%= type %>"
  data-productbacklog-index="<%= index %>" data-product-backlog-id="<%= product_backlog.id %>">
  <td class="id"><%= index + 1 %>
    <%= hidden_field_tag "product_backlogs[#{product_backlog.id}][id]",
      product_backlog.id %>
  </td>
  <td class="story-id">
    <%= text_field_tag "product_backlogs[#{product_backlog.id}][story_id]",
      product_backlog.story_id, title: "#{product_backlog.story_id}",
      class: "product-backlog-story" %>
  </td>
  <td class="category"><%= text_field_tag "product_backlogs[#{product_backlog.id}][category]",
    product_backlog.category, title: "#{product_backlog.category}",
    class: "product-backlog-category-#{index}" %>
  </td>
  <td class="story"><%= text_field_tag "product_backlogs[#{product_backlog.id}][story]",
    product_backlog.story, title: "#{product_backlog.story}",
    class: "product-backlog-story" %>
  </td>
  <td class="sprint"><%= select_tag "product_backlogs[#{product_backlog.id}][sprint_id]",
    options_for_select(@sprints.collect {|p| [p.name, p.id]}, product_backlog.sprint_id),
    include_blank: true %>
  </td>
  <td class="priority"><%= text_field_tag "product_backlogs[#{product_backlog.id}][priority]",
    product_backlog.priority, class: "center" %>
  </td>
  <td class="estimate"><%= text_field_tag "product_backlogs[#{product_backlog.id}][estimate]",
    product_backlog.estimate, class: "center" %>
  </td>
  <td class="actual"><%= text_field_tag "product_backlogs[#{product_backlog.id}][actual]",
    product_backlog.calculate_actual_time, class: "center" %>
  </td>
  <td class="remaining"><%= text_field_tag "product_backlogs[#{product_backlog.id}][remaining]",
    product_backlog.total_remaining_time, class: "center" %>
  </td>
  <% if can? :destroy, ProductBacklog %>
    <td class="action">
      <%= check_box_tag "delete-userstory", product_backlog.id, false,
        class: "delete-userstory-#{product_backlog.id}" %>
    </td>
  <% end %>
</tr>
