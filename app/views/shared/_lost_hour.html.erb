<div class="row">
  <%= f.hidden_field :work_day, value: sprint.work_day, class: "work_day" %>
  <div class="col-md-12 pull-right" id="tracking-time">
    <table class="table table-bordered" id="lost_hour_table"
      data-number-assignees="<%= sprint.assignees.size %>"
      data-number-work-day="<%= sprint.work_day %>">
      <tbody>
        <tr class="lost-hour-row">
          <td class="header_column"><%= t "lost_hour.lost_hour" %></td>
          <% sprint.master_sprints.each_with_index do |_,index| %>
            <td id="lost-hour-<%= index %>">
              <%= text_field_tag nil, index == 0 ? total_lost_hour :
              sum_lost_hour[index], disabled: true, class: "body_column" %>
            </td>
          <% end %>
        </tr>
        <tr class="work-hour">
          <td class="header_column"><%= t "lost_hour.work_hour" %></td>
            <% sprint.master_sprints.each_with_index do |_,index| %>
              <td id="work-hour-<%= index %>">
                <%= text_field_tag nil, index == 0 ? sum_lost_hour[index] : "",
                  disabled: true, class: "body_column" %>
              </td>
            <% end %>
        </tr>
        <% @sprint.time_logs.group_by(&:assignee).each do |assignee, time_logs| %>
          <tr class="assignee-row-<%= assignee.id %>">
            <td class="assignees_name"><%= assignee.user.name %></td>
            <%= f.fields_for :time_logs, time_logs do |time_log_builder| %>
              <td class="assignee-col-<%= time_log_builder.object.master_sprint.day - 1 %>">
                <%= time_log_builder.hidden_field :assignee_id,
                  value: assignee.id %>
                <%= time_log_builder.hidden_field :work_date,
                  value: get_work_date(time_log_builder.index, @sprint) %>
                <%= time_log_builder.text_field :lost_hour %>
              </td>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
